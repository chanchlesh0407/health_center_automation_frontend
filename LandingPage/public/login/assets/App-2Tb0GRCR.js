import{c as w,j as e,U as P,r as c,a as F,b as I}from"./index-DF58_Om4.js";import{X as S}from"./x-8A5lY4ll.js";import{C as E,F as L}from"./file-text-DsVRwVnp.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],H=w("calendar-check",G);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],R=w("funnel",B),T=({activeTab:s,onTabClick:a,doctorName:i,onLogout:t})=>e.jsxs("div",{className:"w-64 bg-blue-600 text-white flex flex-col",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-sm font-normal text-white mb-1",children:"Welcome Back,"}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:i||"Dr. User"})]}),e.jsx("nav",{className:"flex-1 px-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>a("profile"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors flex items-center space-x-3 ${s==="profile"?"bg-blue-500 text-white":"text-white hover:bg-blue-500"}`,children:[e.jsx(P,{size:20,strokeWidth:2,className:"text-white"}),e.jsx("span",{className:"text-base font-medium text-white",children:"Profile"})]}),e.jsxs("button",{onClick:()=>a("appointments"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors flex items-center space-x-3 ${s==="appointments"?"bg-blue-500 text-white":"text-white hover:bg-blue-500"}`,children:[e.jsx(H,{size:20,strokeWidth:2,className:"text-white"}),e.jsx("span",{className:"text-base font-medium text-white",children:"Appointment Scheduled"})]})]})}),t&&e.jsx("div",{className:"mt-auto pt-4 border-t border-blue-400 px-4 pb-4",children:e.jsxs("button",{onClick:t,className:"w-full py-3 px-4 rounded-lg font-medium transition-all flex items-center gap-3 hover:bg-red-600 hover:text-white bg-red-500 text-white",children:[e.jsx(S,{size:20}),e.jsx("span",{children:"Logout"})]})})]}),z=({profileData:s,onProfileChange:a,onSave:i})=>e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Profile"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email:"}),e.jsx("input",{type:"email",value:s.email,onChange:t=>a("email",t.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number:"}),e.jsx("input",{type:"tel",value:s.phoneNumber,onChange:t=>a("phoneNumber",t.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender:"}),e.jsxs("select",{value:s.gender,onChange:t=>a("gender",t.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address:"}),e.jsx("textarea",{value:s.address,onChange:t=>a("address",t.target.value),rows:3,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Of Birth:"}),e.jsx("input",{type:"date",value:s.dateOfBirth,onChange:t=>a("dateOfBirth",t.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Professional Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Qualification:"}),e.jsxs("select",{value:s.qualification,onChange:t=>a("qualification",t.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Qualification"}),e.jsx("option",{value:"MBBS",children:"MBBS"}),e.jsx("option",{value:"MD",children:"MD"}),e.jsx("option",{value:"MS",children:"MS"}),e.jsx("option",{value:"DM",children:"DM"}),e.jsx("option",{value:"MCh",children:"MCh"}),e.jsx("option",{value:"DNB",children:"DNB"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialization:"}),e.jsx("input",{type:"text",value:s.specialization,onChange:t=>a("specialization",t.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your specialization"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Number:"}),e.jsx("input",{type:"text",value:s.registrationNumber,onChange:t=>a("registrationNumber",t.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter registration number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years Experience:"}),e.jsx("input",{type:"number",value:s.yearsExperience,onChange:t=>a("yearsExperience",t.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter years of experience"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Clinic Address:"}),e.jsx("textarea",{value:s.clinicAddress,onChange:t=>a("clinicAddress",t.target.value),rows:3,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter clinic address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Availability Schedule:"}),e.jsx("input",{type:"text",value:s.availabilitySchedule,onChange:t=>a("availabilitySchedule",t.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Mon-Fri 9AM-5PM"})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Financial Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aadhar Number:"}),e.jsx("input",{type:"text",value:s.aadharNumber,onChange:t=>a("aadharNumber",t.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter Aadhar number",maxLength:12})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PAN Number:"}),e.jsx("input",{type:"text",value:s.panNumber,onChange:t=>a("panNumber",t.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter PAN number",maxLength:10})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Number:"}),e.jsx("input",{type:"text",value:s.accountNumber,onChange:t=>a("accountNumber",t.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter account number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IFSC Code:"}),e.jsx("input",{type:"text",value:s.IFSCCode,onChange:t=>a("IFSCCode",t.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter IFSC Code",maxLength:12})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:e.jsx("button",{onClick:i,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Save"})})]})]}),O=s=>{switch(s){case"Checked-In":return"bg-green-400 text-white";case"Scheduled":return"bg-blue-300 text-white";case"In-Progress":return"bg-yellow-400 text-white";default:return"bg-gray-400 text-white"}},$=s=>{console.log("Cancelling appointment for patient ID:",s),alert("Appointment cancelled successfully!")},_=({appointments:s,onPatientSelect:a,selectedDate:i,onDateChange:t})=>{const[o,m]=c.useState(!1),[h,j]=c.useState("all"),[x,g]=c.useState("all"),N=s.filter(n=>{const b=h==="all"||n.status.toLowerCase().replace("-","")===h,p=x==="all"||n.type.toLowerCase().replace(" ","")===x;return b&&p});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Today"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>m(!o),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(R,{size:16}),e.jsx("span",{children:"Filter"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Date:"}),e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{type:"date",value:i,onChange:n=>t(n.target.value),className:"px-3 py-2 pr-8 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{colorScheme:"light",paddingRight:"2.5rem"}}),e.jsx(E,{size:16,className:"absolute right-2 text-gray-500 pointer-events-none"})]})]})]})]}),o&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:h,onChange:n=>j(n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"checkedin",children:"Checked-In"}),e.jsx("option",{value:"inprogress",children:"In-Progress"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),e.jsxs("select",{value:x,onChange:n=>g(n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"consultation",children:"Consultation"}),e.jsx("option",{value:"followup",children:"Follow-up"}),e.jsx("option",{value:"newpatient",children:"New Patient"}),e.jsx("option",{value:"routine",children:"Routine"})]})]})]})})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Time"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Patient Name"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Reason"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Appointment Type"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Contact"})]})}),e.jsx("tbody",{children:N.map(n=>e.jsxs("tr",{onClick:()=>a(n),className:"border-b border-gray-100 hover:bg-blue-50 cursor-pointer transition-colors",children:[e.jsx("td",{className:"py-4 px-4 font-medium text-gray-900",children:n.time}),e.jsx("td",{className:"py-4 px-4 text-gray-900",children:n.name}),e.jsx("td",{className:"py-4 px-4 text-gray-600",children:n.reason}),e.jsx("td",{className:"py-4 px-4 text-gray-600",children:n.type}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${O(n.status)}`,children:n.status})}),e.jsx("td",{className:"py-4 px-4 text-gray-600",children:n.contact})]},n.id))})]})})})]})},U=({patient:s,onClose:a,onCancel:i})=>{if(!s)return null;const t=()=>{window.confirm("Are you sure you want to cancel this appointment?")&&($(s.id),i&&i(s.id),a())};return e.jsx("div",{className:"fixed inset-0 bg-gray-200 bg-opacity-75 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"bg-blue-600 text-white p-6 rounded-t-lg",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-2xl font-bold",children:["Details of ",s.name]}),e.jsx("button",{onClick:a,className:"text-white hover:text-gray-200 transition-colors",children:e.jsx(S,{size:24})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("p",{className:"mt-1 text-gray-900",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Age"}),e.jsxs("p",{className:"mt-1 text-gray-900",children:[s.age," years"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),e.jsx("p",{className:"mt-1 text-gray-900",children:s.gender})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact"}),e.jsx("p",{className:"mt-1 text-gray-900",children:s.contact})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Appointment Time"}),e.jsx("p",{className:"mt-1 text-gray-900",children:s.time})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reason"}),e.jsx("p",{className:"mt-1 text-gray-900",children:s.reason})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Medical Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Group:"}),e.jsx("p",{className:"mt-1 text-gray-900 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200",children:s.bloodGroup||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight:"}),e.jsx("p",{className:"mt-1 text-gray-900 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200",children:s.weight?`${s.weight} kg`:"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allergies:"}),e.jsx("p",{className:"mt-1 text-gray-900 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200 min-h-10",children:s.allergies||"None"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sugar Level:"}),e.jsx("p",{className:"mt-1 text-gray-900 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200",children:s.sugarLevel?`${s.sugarLevel} mg/dL`:"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chronic Diseases:"}),e.jsx("div",{className:"mt-1 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200 min-h-20",children:s.conditions&&s.conditions.length>0&&!(s.conditions.length===1&&s.conditions[0]==="None")?e.jsx("div",{className:"flex flex-wrap gap-2",children:s.conditions.map((o,m)=>e.jsx("span",{className:"inline-block bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-sm",children:o},m))}):e.jsx("p",{className:"text-gray-900",children:s.chronicDiseases||"None"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Height:"}),e.jsx("p",{className:"mt-1 text-gray-900 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200",children:s.height?`${s.height} cm`:"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Pressure:"}),e.jsx("p",{className:"mt-1 text-gray-900 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200",children:s.bloodPressure||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Past Disease:"}),e.jsx("p",{className:"mt-1 text-gray-900 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200 min-h-20",children:s.pastDisease||"None"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Family History:"}),e.jsx("p",{className:"mt-1 text-gray-900 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200 min-h-20",children:s.familyHistory||"None"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Medications:"}),e.jsx("p",{className:"mt-1 text-gray-900 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200 min-h-16",children:s.medications||"None"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[e.jsx(L,{size:20}),e.jsx("span",{children:"Clinical Notes"})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border min-h-24",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:s.notes||"No clinical notes available"})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),e.jsx("button",{onClick:t,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Cancel Appointment"})]})]})]})})},f=[{id:6,name:"Saanvi Gupta",time:"10:15 AM",reason:"Asthma Checkup",type:"Follow-up",status:"Scheduled",contact:"+91 93210 98765",age:12,gender:"Female",bloodGroup:"B+",weight:"38",height:"145",bloodPressure:"110/70",sugarLevel:"95",allergies:"Dust Mites, Pollen",medications:"Salbutamol Inhaler (as needed)",conditions:["Asthma"],pastDisease:"Childhood pneumonia (5 years ago)",familyHistory:"Father has asthma, mother has allergies",notes:"Patient has been using the inhaler twice this week. Spirometry test scheduled."},{id:7,name:"Mohan Reddy",time:"10:30 AM",reason:"Knee Pain",type:"New Patient",status:"Scheduled",contact:"+91 92109 87654",age:62,gender:"Male",bloodGroup:"O+",weight:"78",height:"168",bloodPressure:"135/85",sugarLevel:"110",allergies:"None",medications:"Ibuprofen 400mg (as needed)",conditions:["Osteoarthritis (suspected)"],pastDisease:"Hypertension (controlled), Type 2 Diabetes (controlled)",familyHistory:"Father had diabetes, mother had arthritis",notes:"Patient complains of persistent right knee pain, especially when climbing stairs. X-ray ordered."},{id:8,name:"Aisha Khan",time:"10:45 AM",reason:"Skin Rash",type:"Consultation",status:"Checked-In",contact:"+91 91098 76543",age:22,gender:"Female",bloodGroup:"A+",weight:"55",height:"162",bloodPressure:"115/75",sugarLevel:"88",allergies:"None",medications:"None",conditions:["Dermatitis"],pastDisease:"None",familyHistory:"Sister has eczema",notes:"Sudden onset of itchy red rash on both arms. Patient denies new soaps or lotions."},{id:9,name:"Rajesh Malhotra",time:"11:00 AM",reason:"Post-op Checkup",type:"Follow-up",status:"Scheduled",contact:"+91 90987 65432",age:51,gender:"Male",bloodGroup:"AB+",weight:"82",height:"175",bloodPressure:"128/82",sugarLevel:"102",allergies:"Codeine",medications:"Antibiotics (Amoxicillin)",conditions:["Appendectomy (1 week ago)"],pastDisease:"Appendicitis (1 week ago), Gallstones (3 years ago)",familyHistory:"Father had appendicitis at age 45",notes:"Incision site healing well. No signs of infection. Sutures to be removed next week."},{id:10,name:"Isha Nair",time:"11:15 AM",reason:"Anxiety",type:"Consultation",status:"Scheduled",contact:"+91 89876 54321",age:34,gender:"Female",bloodGroup:"B-",weight:"62",height:"158",bloodPressure:"120/78",sugarLevel:"92",allergies:"None",medications:"Sertraline 50mg",conditions:["Generalized Anxiety Disorder"],pastDisease:"Mild depression (2 years ago)",familyHistory:"Mother has anxiety disorder, maternal grandmother had depression",notes:"Follow-up on new medication. Patient reports mild side effects but improved mood."},{id:11,name:"Arjun Verma",time:"11:30 AM",reason:"Headache",type:"New Patient",status:"Scheduled",contact:"+91 88765 43210",age:41,gender:"Male",bloodGroup:"A+",weight:"75",height:"172",bloodPressure:"130/80",sugarLevel:"98",allergies:"None",medications:"None",conditions:["Migraine (suspected)"],pastDisease:"Occasional tension headaches",familyHistory:"Father and maternal uncle have migraines",notes:"Patient reports recurring, severe headaches with light sensitivity. Keeping a headache diary."},{id:12,name:"Diya Mehta",time:"11:45 AM",reason:"Vaccination",type:"Routine",status:"Checked-In",contact:"+91 87654 32109",age:5,gender:"Female",bloodGroup:"O+",weight:"18",height:"105",bloodPressure:"95/60",sugarLevel:"85",allergies:"None",medications:"None",conditions:[],pastDisease:"None",familyHistory:"No significant family history",notes:"Scheduled MMR vaccine (Dose 2). Patient is healthy today."},{id:13,name:"Karan Singh",time:"12:00 PM",reason:"Abdominal Pain",type:"Consultation",status:"Scheduled",contact:"+91 86543 21098",age:38,gender:"Male",bloodGroup:"B+",weight:"85",height:"178",bloodPressure:"138/88",sugarLevel:"105",allergies:"None",medications:"Antacids",conditions:["GERD"],pastDisease:"Gastritis (1 year ago), Peptic ulcer (3 years ago)",familyHistory:"Father has GERD, paternal grandfather had stomach ulcers",notes:"Patient reports worsening acid reflux and abdominal pain, especially after meals."},{id:14,name:"Myra Deshpande",time:"12:15 PM",reason:"Thyroid Test",type:"Follow-up",status:"Scheduled",contact:"+91 85432 10987",age:29,gender:"Female",bloodGroup:"A+",weight:"68",height:"165",bloodPressure:"118/76",sugarLevel:"94",allergies:"None",medications:"Levothyroxine 50mcg",conditions:["Hypothyroidism"],pastDisease:"Hyperthyroidism (diagnosed 2 years ago, now hypothyroid post-treatment)",familyHistory:"Mother and maternal aunt have hypothyroidism",notes:"Reviewing recent TSH lab results. Adjusting medication dosage."},{id:15,name:"Sameer Ali",time:"12:30 PM",reason:"Annual Physical",type:"Routine",status:"Checked-In",contact:"+91 84321 09876",age:47,gender:"Male",bloodGroup:"O+",weight:"88",height:"170",bloodPressure:"140/90",sugarLevel:"115",allergies:"None",medications:"Atorvastatin 20mg",conditions:["High Cholesterol"],pastDisease:"Hyperlipidemia (5 years), Pre-diabetes (1 year)",familyHistory:"Father had heart attack at age 55, mother has high cholesterol",notes:"Routine annual checkup. Full blood panel ordered. Discussed diet and exercise."}],A="health_admin_patients_v1",q=s=>{if(!s)return null;const a=s.chronicDiseases?s.chronicDiseases.split(",").map(o=>o.trim()).filter(Boolean):Array.isArray(s.conditions)?s.conditions:[],i=typeof s.status=="string"&&s.status.trim().length?s.status:"Scheduled";let t=s.mobile||s.phoneNumber||s.contact||"";return typeof t=="string"&&/^\d{10}$/.test(t)&&(t=`+91 ${t.slice(0,5)} ${t.slice(5)}`),{id:s.id,name:s.name,time:s.appointmentTime||s.time||"Not Scheduled",reason:s.reason||s.notes||"General Consultation",type:s.appointmentType||s.type||"Consultation",status:i,contact:t,age:s.age,gender:s.gender,bloodGroup:s.bloodGroup,weight:s.weight,height:s.height,bloodPressure:s.bloodPressure,sugarLevel:s.sugarLevel,allergies:s.allergies,medications:s.medications||s.currentMedications,conditions:a.length?a:["None"],pastDisease:s.pastDisease,familyHistory:s.familyHistory,notes:s.notes,chronicDiseases:s.chronicDiseases}},v=()=>{if(typeof window>"u")return f;const s=window.localStorage.getItem(A);if(!s)return f;try{const a=JSON.parse(s);if(Array.isArray(a)){const i=a.map(q).filter(Boolean);return i.length?i:f}}catch(a){console.warn("Failed to parse stored patients for doctor dashboard",a)}return f},J=({user:s,onLogout:a})=>{const[i,t]=c.useState("appointments"),[o,m]=c.useState(null),[h,j]=c.useState(new Date().toISOString().split("T")[0]),[x,g]=c.useState(v),[N,n]=c.useState("Dr. User"),[b,p]=c.useState({email:"",gender:"",dateOfBirth:"",phoneNumber:"",address:"",qualification:"",registrationNumber:"",clinicAddress:"",aadharNumber:"",accountNumber:"",specialization:"",yearsExperience:"",availabilitySchedule:"",panNumber:"",IFSCCode:""}),k=u=>{t(u)},C=(u,r)=>{p(l=>({...l,[u]:r}))};c.useEffect(()=>{(async()=>{if(s?.userId)try{const r=await F(s.userId);let l=null;try{l=await I(s.userId)}catch(d){console.log("Doctor profile not found, will be created on save:",d)}const y=d=>{if(!d)return"";try{return(typeof d=="string"?d:new Date(d).toISOString()).slice(0,10)}catch{return""}};if(r?.FirstName||r?.LastName){const d=`${r.FirstName||""} ${r.LastName||""}`.trim();n(d?`Dr. ${d}`:"Dr. User")}else s?.name&&n(`Dr. ${s.name}`);p(d=>({...d,email:r?.Email||s?.email||"",phoneNumber:r?.Phone||"",gender:r?.Gender||"",address:r?.Address||"",dateOfBirth:y(r?.DOB),qualification:l?.Qualification||"",registrationNumber:l?.RegistrationNumber||"",clinicAddress:l?.ClinicAddress||"",specialization:l?.Specialization||"",yearsExperience:l?.ExperienceYears!=null?String(l.ExperienceYears):"",availabilitySchedule:l?.AvailabilitySchedule?typeof l.AvailabilitySchedule=="string"?l.AvailabilitySchedule:JSON.stringify(l.AvailabilitySchedule):"",aadharNumber:l?.AadharNumber||"",panNumber:l?.PANNumber||"",accountNumber:l?.AccountNumber||"",IFSCCode:l?.IFSCCode||""}))}catch(r){console.error("Failed to fetch doctor data:",r)}})()},[s?.userId]),c.useEffect(()=>{if(typeof window>"u")return;const u=()=>{const l=v();if(g(l),o){const y=l.find(d=>d.id===o.id);y&&m(y)}};u();const r=l=>{l.key===A&&u()};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[o]);const M=u=>{g(r=>r.map(l=>l.id===u?{...l,status:"Cancelled"}:l)),o?.id===u&&m(r=>r&&{...r,status:"Cancelled"})},D=()=>{console.log("Saving profile data:",b),alert("Profile saved successfully!")};return e.jsxs("div",{className:"min-h-screen bg-white flex",children:[e.jsx(T,{activeTab:i,onTabClick:k,doctorName:N,onLogout:a}),e.jsx("div",{className:"flex-1 bg-white",children:i==="profile"?e.jsx(z,{profileData:b,onProfileChange:C,onSave:D}):e.jsx(_,{appointments:x,onPatientSelect:m,selectedDate:h,onDateChange:j})}),o&&e.jsx(U,{patient:o,onClose:()=>m(null),onCancel:M})]})};export{J as default};

import{j as e,r as d,a as b,d as p}from"./index-DF58_Om4.js";import{X as h}from"./x-8A5lY4ll.js";import{M as f}from"./menu-DUfx0J7u.js";const g=({currentView:a,setCurrentView:s,user:n,onLogout:c,isExpanded:o,setIsExpanded:l})=>{const x=n?.name||`${n?.FirstName||""} ${n?.LastName||""}`.trim()||`${n?.firstName||""} ${n?.lastName||""}`.trim()||n?.email||"Staff Member";return e.jsxs("div",{className:`bg-gradient-to-b from-blue-500 to-blue-500 text-white p-6 transition-all duration-300 shadow-md border rounded-lg ${o?"w-64":"w-20"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[o&&e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Dashboard"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Welcome Back,"}),e.jsx("h1",{className:"text-xl font-bold",children:x})]}),e.jsx("button",{onClick:()=>l(!o),className:"p-2 hover:bg-blue-700 rounded-lg transition-colors",children:e.jsx(h,{size:22})})]})]}),!o&&e.jsx("button",{onClick:()=>l(!o),className:"p-2 hover:bg-blue-700 rounded-lg transition-colors mx-auto",children:e.jsx(f,{size:22})})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>s("profile"),className:`w-full py-3 px-4 rounded-lg font-medium transition-all flex items-center gap-3 ${a==="profile"?"bg-blue-100 text-blue-900":"hover:bg-blue-700 hover:text-white text-white"}`,title:o?"":"Profile",children:o&&e.jsx("span",{children:"Profile"})}),e.jsx("button",{onClick:()=>s("patients"),className:`w-full py-3 px-4 rounded-lg font-medium transition-all flex items-center gap-3 ${a==="patients"?"bg-blue-100 text-blue-900":"hover:bg-blue-700 hover:text-white text-white"}`,title:o?"":"View Patients",children:o&&e.jsx("span",{children:"View Patients"})})]}),o&&e.jsx("div",{className:"mt-auto pt-4 border-t border-blue-400",children:e.jsxs("button",{onClick:c,className:"w-full py-3 px-4 rounded-lg font-medium transition-all flex items-center gap-3 hover:bg-red-600 hover:text-white bg-red-500 text-white",children:[e.jsx(h,{size:20}),e.jsx("span",{children:"Logout"})]})})]})},j=({patient:a,onCancel:s,onGoBack:n})=>a?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Want to cancel Appointment of ",a.name,"?"]}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[e.jsx("button",{onClick:s,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Cancel Appointment"}),e.jsx("button",{onClick:n,className:"flex-1 bg-blue-700 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Go Back"})]})]})}):null,N=()=>{const[a,s]=d.useState(""),[n,c]=d.useState(null),[o,l]=d.useState(!1),m=[{id:1,time:"09:00 AM",name:"Aarav Sharma",reason:"Fever & Cold",appointmentType:"Follow-up",status:"Checked-In",contact:"+91 98765 43210",doctor:"Dr. Meera Nair"},{id:2,time:"09:15 AM",name:"Priya Patel",reason:"Diabetes Review",appointmentType:"Consultation",status:"Scheduled",contact:"+91 87654 32109",doctor:"Dr. Ramesh Gupta"},{id:3,time:"09:30 AM",name:"Rohan Kumar",reason:"Back Pain",appointmentType:"New Patient",status:"Scheduled",contact:"+91 76543 21098",doctor:"Dr. Neha Verma"},{id:4,time:"09:45 AM",name:"Ananya Singh",reason:"Pregnancy Checkup",appointmentType:"Routine",status:"Checked-In",contact:"+91 65432 10987",doctor:"Dr. Suman Kapoor"},{id:5,time:"10:00 AM",name:"Vikram Joshi",reason:"Blood Pressure",appointmentType:"Follow-up",status:"In-Progress",contact:"+91 94321 09876",doctor:"Dr. Ramesh Gupta"},{id:6,time:"10:15 AM",name:"Kavya Iyer",reason:"Migraine",appointmentType:"Consultation",status:"Scheduled",contact:"+91 91234 56780",doctor:"Dr. Neha Verma"},{id:7,time:"10:30 AM",name:"Arjun Desai",reason:"Fracture Follow-up",appointmentType:"Follow-up",status:"Checked-In",contact:"+91 99887 76655",doctor:"Dr. Rajesh Malhotra"},{id:8,time:"10:45 AM",name:"Simran Kaur",reason:"Thyroid Checkup",appointmentType:"Routine",status:"Scheduled",contact:"+91 90012 34567",doctor:"Dr. Meera Nair"},{id:9,time:"11:00 AM",name:"Harsh Mehta",reason:"Chest Pain",appointmentType:"Emergency",status:"In-Progress",contact:"+91 98980 45678",doctor:"Dr. Rajesh Malhotra"},{id:10,time:"11:15 AM",name:"Isha Reddy",reason:"Skin Allergy",appointmentType:"Consultation",status:"Scheduled",contact:"+91 98770 32145",doctor:"Dr. Neha Verma"},{id:11,time:"11:30 AM",name:"Manish Kumar",reason:"Diabetic Foot Checkup",appointmentType:"Follow-up",status:"Checked-In",contact:"+91 91234 87654",doctor:"Dr. Ramesh Gupta"},{id:12,time:"11:45 AM",name:"Tanya Bansal",reason:"Routine Health Check",appointmentType:"Routine",status:"Scheduled",contact:"+91 90000 12345",doctor:"Dr. Meera Nair"}].filter(t=>t.name.toLowerCase().includes(a.toLowerCase())||t.reason.toLowerCase().includes(a.toLowerCase())||t.appointmentType.toLowerCase().includes(a.toLowerCase())||t.doctor.toLowerCase().includes(a.toLowerCase())),r=t=>{c(t),l(!0)},i=()=>{n&&(console.log("Canceling appointment for:",n.name),alert(`Appointment for ${n.name} has been canceled`)),l(!1),c(null)},u=t=>{switch(t){case"Checked-In":return"bg-green-100 text-green-800";case"Scheduled":return"bg-blue-100 text-blue-800";case"In-Progress":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3 text-blue-700",children:"Patients"}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search by Doctor name  ",value:a,onChange:t=>s(t.target.value),className:"w-full px-4 py-2 border rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 pr-10"}),e.jsx("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4 text-blue-700 font-semibold",children:"Time"}),e.jsx("th",{className:"text-left py-3 px-4 text-blue-700 font-semibold",children:"Patient Name"}),e.jsx("th",{className:"text-left py-3 px-4 text-blue-700 font-semibold",children:"Reason"}),e.jsx("th",{className:"text-left py-3 px-4 text-blue-700 font-semibold",children:"Appointment Type"}),e.jsx("th",{className:"text-left py-3 px-4 text-blue-700 font-semibold",children:"Doctor"}),e.jsx("th",{className:"text-left py-3 px-4 text-blue-700 font-semibold",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-blue-700 font-semibold",children:"Contact"}),e.jsx("th",{className:"text-left py-3 px-4 text-blue-700 font-semibold",children:"Actions"})]})}),e.jsx("tbody",{children:m.map(t=>e.jsxs("tr",{className:"border-b hover:bg-blue-50 transition-colors cursor-pointer",children:[e.jsx("td",{className:"py-3 px-4 text-gray-800",children:t.time}),e.jsx("td",{className:"py-3 px-4 text-gray-800 font-medium",children:t.name}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:t.reason}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:t.appointmentType}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:t.doctor}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u(t.status)}`,children:t.status})}),e.jsx("td",{className:"py-3 px-4 text-gray-600",children:t.contact}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("button",{onClick:()=>r(t),className:"text-red-600 hover:text-red-800 font-medium text-sm",children:"Cancel"})})]},t.id))})]})}),o&&e.jsx(j,{patient:n,onCancel:i,onGoBack:()=>{l(!1),c(null)}})]})},y=({user:a})=>{const[s,n]=d.useState({name:"",email:"",gender:"",phoneNumber:"",address:"",dateOfBirth:"",joinDate:"",role:"",department:"",aadharNumber:"",panNumber:"",accountNumber:"",ifscCode:""}),[c,o]=d.useState(!1);d.useEffect(()=>{(async()=>{if(a?.userId)try{const r=await b(a.userId);let i=null;try{i=await p(a.userId)}catch(t){console.log("Employee profile not found, will be created on save:",t)}const u=t=>{if(!t)return"";try{return(typeof t=="string"?t:new Date(t).toISOString()).slice(0,10)}catch{return""}};n(t=>({...t,name:`${r?.FirstName||""} ${r?.LastName||""}`.trim()||"",email:r?.Email||a?.email||"",phoneNumber:r?.Phone||"",gender:r?.Gender||"",address:r?.Address||"",dateOfBirth:u(r?.DOB),department:i?.Division||"",joinDate:u(i?.JoinDate),role:i?.Designation||"",aadharNumber:i?.AadharNumber||"",panNumber:i?.PANNumber||"",accountNumber:i?.AccountNumber||"",ifscCode:i?.IFSCCode||""}))}catch(r){console.error("Failed to fetch user data:",r)}})()},[a]);const l=m=>{const{name:r,value:i}=m.target;n(u=>({...u,[r]:i})),o(!1)},x=m=>{m.preventDefault(),console.log("Saving profile:",s),o(!0),setTimeout(()=>o(!1),3e3)};return e.jsx("div",{className:"",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-6 border-b pb-3",children:"Staff Information"}),e.jsxs("form",{onSubmit:x,children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:l,className:"w-full mt-1 px-3 py-2 border rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"mt-1 text-gray-800 font-medium p-3 rounded-lg bg-blue-50",children:s.email||a?.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:s.phoneNumber,onChange:l,className:"w-full mt-1 px-3 py-2 border rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+91 9876543210"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Gender"}),e.jsxs("select",{name:"gender",value:s.gender,onChange:l,className:"w-full mt-1 px-3 py-2 border rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400",children:[e.jsx("option",{value:"",children:"Select gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Address"}),e.jsx("textarea",{name:"address",value:s.address,onChange:l,rows:3,className:"w-full mt-1 px-3 py-2 border rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 resize-none",placeholder:"Enter address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Date Of Birth"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:s.dateOfBirth,onChange:l,className:"w-full mt-1 px-3 py-2 border rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Join Date"}),e.jsx("input",{type:"date",name:"joinDate",value:s.joinDate,onChange:l,className:"w-full mt-1 px-3 py-2 border rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400"})]})]}),e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Professional Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Role"}),e.jsxs("select",{name:"role",value:s.role,onChange:l,className:"w-full mt-1 px-3 py-2 border rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400",children:[e.jsx("option",{value:"",children:"Select Role"}),e.jsx("option",{value:"doctor",children:"Doctor"}),e.jsx("option",{value:"nurse",children:"Nurse"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Department"}),e.jsx("input",{type:"text",name:"department",value:s.department,onChange:l,className:"w-full mt-1 px-3 py-2 border rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Department name"})]})]}),e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Financial Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Aadhar Number"}),e.jsx("input",{type:"text",name:"aadharNumber",value:s.aadharNumber,onChange:l,className:"w-full mt-1 px-3 py-2 border rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"xxxx-xxxx-xxxx"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"PAN Number"}),e.jsx("input",{type:"text",name:"panNumber",value:s.panNumber,onChange:l,className:"w-full mt-1 px-3 py-2 border rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"ABCDE1234F"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Account Number"}),e.jsx("input",{type:"text",name:"accountNumber",value:s.accountNumber,onChange:l,className:"w-full mt-1 px-3 py-2 border rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter account number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"IFSC Code"}),e.jsx("input",{type:"text",name:"ifscCode",value:s.ifscCode,onChange:l,className:"w-full mt-1 px-3 py-2 border rounded-lg bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"SBIN0001234"})]})]}),e.jsxs("div",{className:"mt-8 flex items-center gap-4 justify-end",children:[e.jsx("button",{type:"button",className:"border border-blue-600 text-blue-600 hover:bg-blue-50 font-medium py-3 px-8 rounded-lg transition-colors",children:"Close"}),e.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-lg transition-colors",children:"Save"}),c&&e.jsx("span",{className:"text-green-600 font-medium",children:"âœ“ Profile saved successfully!"})]})]})]})})},k=({user:a,onLogout:s})=>{const[n,c]=d.useState("patients"),[o,l]=d.useState(!0);return e.jsxs("div",{className:"flex h-screen bg-gradient-to-b from-blue-50 to-white",children:[e.jsx(g,{currentView:n,setCurrentView:c,user:a,onLogout:s,isExpanded:o,setIsExpanded:l}),e.jsxs("main",{className:"flex-1 p-10 overflow-auto",children:[n==="patients"&&e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsx(N,{})}),n==="profile"&&e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsx(y,{user:a})})]})]})};export{k as default};
